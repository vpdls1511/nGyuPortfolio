{"ast":null,"code":"import _classCallCheck from \"/workspace/pp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/workspace/pp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/workspace/pp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/workspace/pp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/workspace/pp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/workspace/pp/src/SwitchWithSlide.js\";\nimport React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Slider from \"./Slider\";\n\nvar SlideOut =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SlideOut, _React$Component);\n\n  function SlideOut(props) {\n    var _this;\n\n    _classCallCheck(this, SlideOut);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SlideOut).call(this, props));\n\n    _this.swapChildren = function () {\n      _this.setState({\n        childPosition: Slider.FROM_LEFT,\n        prevChild: null,\n        prevUniqId: null,\n        animationCallback: null\n      });\n    };\n\n    _this.state = {\n      childPosition: Slider.CENTER,\n      curChild: props.children,\n      curUniqId: props.uniqId,\n      prevChild: null,\n      prevUniqId: null,\n      animationCallback: null\n    };\n    return _this;\n  }\n\n  _createClass(SlideOut, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var prevUniqId = prevProps.uniqKey || prevProps.children.type;\n      var uniqId = this.props.uniqKey || this.props.children.type;\n\n      if (prevUniqId !== uniqId) {\n        this.setState({\n          childPosition: Slider.TO_RIGHT,\n          curChild: this.props.children,\n          curUniqId: uniqId,\n          prevChild: prevProps.children,\n          prevUniqId: prevUniqId,\n          animationCallback: this.swapChildren\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Slider, {\n        position: this.state.childPosition,\n        animationCallback: this.state.animationCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, this.state.prevChild || this.state.curChild);\n    }\n  }]);\n\n  return SlideOut;\n}(React.Component);\n\nvar animateSwitch = function animateSwitch(CustomSwitch, AnimatorComponent) {\n  return function (_ref) {\n    var updateStep = _ref.updateStep,\n        children = _ref.children;\n    return React.createElement(Route, {\n      render: function render(_ref2) {\n        var location = _ref2.location;\n        return React.createElement(AnimatorComponent, {\n          uniqKey: location.pathname,\n          updateStep: updateStep,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(CustomSwitch, {\n          location: location,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, children));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    });\n  };\n};\n\nvar SwitchWithSlide = animateSwitch(Switch, SlideOut);\nexport default SwitchWithSlide;","map":{"version":3,"sources":["/workspace/pp/src/SwitchWithSlide.js"],"names":["React","Switch","Route","Slider","SlideOut","props","swapChildren","setState","childPosition","FROM_LEFT","prevChild","prevUniqId","animationCallback","state","CENTER","curChild","children","curUniqId","uniqId","prevProps","prevState","uniqKey","type","TO_RIGHT","Component","animateSwitch","CustomSwitch","AnimatorComponent","updateStep","location","pathname","SwitchWithSlide"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,kBAA9B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;IAEMC,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;;AADiB,UA6BnBC,YA7BmB,GA6BJ,YAAM;AACnB,YAAKC,QAAL,CAAc;AACZC,QAAAA,aAAa,EAAEL,MAAM,CAACM,SADV;AAEZC,QAAAA,SAAS,EAAE,IAFC;AAGZC,QAAAA,UAAU,EAAE,IAHA;AAIZC,QAAAA,iBAAiB,EAAE;AAJP,OAAd;AAMD,KApCkB;;AAGjB,UAAKC,KAAL,GAAa;AACXL,MAAAA,aAAa,EAAEL,MAAM,CAACW,MADX;AAEXC,MAAAA,QAAQ,EAAEV,KAAK,CAACW,QAFL;AAGXC,MAAAA,SAAS,EAAEZ,KAAK,CAACa,MAHN;AAIXR,MAAAA,SAAS,EAAE,IAJA;AAKXC,MAAAA,UAAU,EAAE,IALD;AAMXC,MAAAA,iBAAiB,EAAE;AANR,KAAb;AAHiB;AAWlB;;;;uCAEkBO,S,EAAWC,S,EAAW;AACvC,UAAMT,UAAU,GAAGQ,SAAS,CAACE,OAAV,IAAqBF,SAAS,CAACH,QAAV,CAAmBM,IAA3D;AACA,UAAMJ,MAAM,GAAG,KAAKb,KAAL,CAAWgB,OAAX,IAAsB,KAAKhB,KAAL,CAAWW,QAAX,CAAoBM,IAAzD;;AAEA,UAAIX,UAAU,KAAKO,MAAnB,EAA2B;AACzB,aAAKX,QAAL,CAAc;AACZC,UAAAA,aAAa,EAAEL,MAAM,CAACoB,QADV;AAEZR,UAAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWW,QAFT;AAGZC,UAAAA,SAAS,EAAEC,MAHC;AAIZR,UAAAA,SAAS,EAAES,SAAS,CAACH,QAJT;AAKZL,UAAAA,UAAU,EAAVA,UALY;AAMZC,UAAAA,iBAAiB,EAAE,KAAKN;AANZ,SAAd;AAQD;AACF;;;6BAWQ;AACP,aACE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAE,KAAKO,KAAL,CAAWL,aADvB;AAEE,QAAA,iBAAiB,EAAE,KAAKK,KAAL,CAAWD,iBAFhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,KAAKC,KAAL,CAAWH,SAAX,IAAwB,KAAKG,KAAL,CAAWE,QAJtC,CADF;AAQD;;;;EAhDoBf,KAAK,CAACwB,S;;AAmD7B,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,YAAD,EAAeC,iBAAf;AAAA,SAAqC;AAAA,QACzDC,UADyD,QACzDA,UADyD;AAAA,QAEzDZ,QAFyD,QAEzDA,QAFyD;AAAA,WAIzD,oBAAC,KAAD;AACE,MAAA,MAAM,EAAE;AAAA,YAAGa,QAAH,SAAGA,QAAH;AAAA,eACN,oBAAC,iBAAD;AAAmB,UAAA,OAAO,EAAEA,QAAQ,CAACC,QAArC;AAA+C,UAAA,UAAU,EAAEF,UAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,YAAD;AAAc,UAAA,QAAQ,EAAEC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmCb,QAAnC,CADF,CADM;AAAA,OADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJyD;AAAA,GAArC;AAAA,CAAtB;;AAaA,IAAMe,eAAe,GAAGN,aAAa,CAACxB,MAAD,EAASG,QAAT,CAArC;AAEA,eAAe2B,eAAf","sourcesContent":["import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Slider from \"./Slider\";\n\nclass SlideOut extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      childPosition: Slider.CENTER,\n      curChild: props.children,\n      curUniqId: props.uniqId,\n      prevChild: null,\n      prevUniqId: null,\n      animationCallback: null\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevUniqId = prevProps.uniqKey || prevProps.children.type;\n    const uniqId = this.props.uniqKey || this.props.children.type;\n\n    if (prevUniqId !== uniqId) {\n      this.setState({\n        childPosition: Slider.TO_RIGHT,\n        curChild: this.props.children,\n        curUniqId: uniqId,\n        prevChild: prevProps.children,\n        prevUniqId,\n        animationCallback: this.swapChildren\n      });\n    }\n  }\n\n  swapChildren = () => {\n    this.setState({\n      childPosition: Slider.FROM_LEFT,\n      prevChild: null,\n      prevUniqId: null,\n      animationCallback: null\n    });\n  };\n\n  render() {\n    return (\n      <Slider\n        position={this.state.childPosition}\n        animationCallback={this.state.animationCallback}\n      >\n        {this.state.prevChild || this.state.curChild}\n      </Slider>\n    );\n  }\n}\n\nconst animateSwitch = (CustomSwitch, AnimatorComponent) => ({\n  updateStep,\n  children\n}) => (\n  <Route\n    render={({ location }) => (\n      <AnimatorComponent uniqKey={location.pathname} updateStep={updateStep}>\n        <CustomSwitch location={location}>{children}</CustomSwitch>\n      </AnimatorComponent>\n    )}\n  />\n);\n\nconst SwitchWithSlide = animateSwitch(Switch, SlideOut);\n\nexport default SwitchWithSlide;\n"]},"metadata":{},"sourceType":"module"}